(function(){tinymce.create("tinymce.plugins.tinymce_clear_float",{init:function(a,g){var e=new DOMParser,h=(tinymce.Env.mac?"\u2303\u2325":"Shift+Alt+")+"F";a.addButton("tinymce-clear-float",{title:a.getLang("tinymce_clear_float.tooltip")+" ("+h+")",cmd:"clear_both",image:g+"/../images/tinymce-clear-float-icon.svg"});a.addShortcut("access+f",null,"clear_both");a.addCommand("clear_both",function(){a.execCommand("mceInsertContent",!1,placeholder.outerHTML)});a.on("BeforeSetContent",function(c){if(c.content){for(var f=
e.parseFromString(c.content,"text/html"),d=f.getElementsByTagName("br"),b=d.length-1;0<=b;b--)"both"===d[b].style.clear&&(placeholder=document.createElement("img"),placeholder.src=tinymce.Env.transparentSrc,placeholder.className="mce-tinymce-clear-float",placeholder.title=a.getLang("tinymce_clear_float.img_title"),placeholder.setAttribute("data-wp-more",""),placeholder.setAttribute("data-mce-resize",!1),placeholder.setAttribute("data-mce-placeholder",1),d[b].parentNode.replaceChild(placeholder,d[b]));
c.content=f.body.innerHTML;c.content=c.content.replace(/<div style="clear:(.+?)"><\/div>/g,placeholder.outerHTML)}});a.on("PostProcess",function(c){if(c.content){for(var a=e.parseFromString(c.content,"text/html"),d=a.getElementsByTagName("img"),b=d.length-1;0<=b;b--)"mce-tinymce-clear-float"===d[b].className&&(element=document.createElement("br"),element.style.clear="both",d[b].parentNode.replaceChild(element,d[b]));c.content=a.body.innerHTML}})}});tinymce.PluginManager.add("tinymce_clear_float_plugin",
tinymce.plugins.tinymce_clear_float)})();
