(function(){tinymce.create("tinymce.plugins.tinymce_clear_float",{init:function(a,f){var e=new DOMParser,g=(tinymce.Env.mac?"\u2303\u2325":"Shift+Alt+")+"F";placeholder=document.createElement("img");placeholder.src=tinymce.Env.transparentSrc;placeholder.className="mce-tinymce-clear-float";placeholder.title=a.getLang("tinymce_clear_float.img_title");placeholder.setAttribute("data-wp-more","");placeholder.setAttribute("data-mce-resize",!1);placeholder.setAttribute("data-mce-placeholder",1);element=
document.createElement("br");element.style.clear="both";a.addButton("tinymce-clear-float",{title:a.getLang("tinymce_clear_float.tooltip")+" ("+g+")",cmd:"clear_both",image:f+"/../images/tinymce-clear-float-icon.svg"});a.addShortcut("access+f",null,"clear_both");a.addCommand("clear_both",function(){a.execCommand("mceInsertContent",!1,placeholder.outerHTML)});a.on("BeforeSetContent",function(d){if(d.content){for(var a=e.parseFromString(d.content,"text/html"),c=a.getElementsByTagName("br"),b=c.length-
1;0<=b;b--)"both"===c[b].style.clear&&c[b].parentNode.replaceChild(placeholder.cloneNode(),c[b]);d.content=a.body.innerHTML;d.content=d.content.replace(/<div style="clear:(.+?)"><\/div>/g,placeholder.outerHTML)}});a.on("PostProcess",function(a){if(a.content){for(var d=e.parseFromString(a.content,"text/html"),c=d.getElementsByTagName("img"),b=c.length-1;0<=b;b--)"mce-tinymce-clear-float"===c[b].className&&c[b].parentNode.replaceChild(element.cloneNode(),c[b]);a.content=d.body.innerHTML}})}});tinymce.PluginManager.add("tinymce_clear_float_plugin",
tinymce.plugins.tinymce_clear_float)})();
